<div class="container-fluid header-background"  ng-init="getCurrentItinerary()">
  <h3 class="dash-header text-center">{{currentItinerary.title}}</h3>
</div>
<div class="container-fluid">
  <div class="row add-comment-row">

    <div class="col-sm-6">
      <div class="add-comment-activites">
        <div class="itinerary-description">
          <p>Hey TripChatters! We are going out to Vegas to celebrate Paul's last time of being single! What should we do? Where should we go? We have never been! Help us out!
        </div>
      </div>
    </div>

    <div class="col-sm-6">

      <!-- When user is not logged in -->
      <div class="panel add-panel itin-panel add-comment-panel">
        <div class="form-group" >
          <form>
            <div class="col-sm-12 interest-col ">
              <textarea ng-model="comment.text" class="form-control" rows="2" id="comment" placeholder="Been there, done that?  Share your experience! Tell  {{currentItinerary.User.fname}} where to go in {{currentItinerary.city}}."></textarea>
            </div>

            <div class="col-sm-5  interest-col">
              <div class="form-group add-itinerary-form">
              <input ng-model="comment.address" class="form-control" type="text"  placeholder="Street Address"/>
            </div>
            </div>

            <div class="col-sm-5 interest-col">
              <div class="form-group add-itinerary-form">
              <input ng-model="comment.link" class="form-control"  type="text"  placeholder="Website"/>
              </div>
            </div>

            <!-- Disable btn when user is not logged in -->
            <div ng-show="!user" class="col-sm-2 interest-col" data-toggle="tooltip" data-placement="top" title="Log in to share">
              <div class="form-group add-itinerary-form">
                <button type="button" class="btn btn-success share-btn" disabled="disabled">Share It!</button>
              </div>
            </div> <!-- end disabled btn -->

            <!-- Enable btn when user is logged in -->
            <div ng-show="user" class="col-sm-2 interest-col">
              <div class="form-group add-itinerary-form">
                <button type="button" ng-click="addComment(currentItinerary.id, currentItinerary.city)"class="btn btn-success share-btn">Share It!</button>
              </div>
            </div> <!-- end enabled btn -->
            
          </form>
        </div>
      </div>
    </div>

  </div>
  <div class="row interest-row">
    <div class="col-sm-12">
      <div class="interest-name clearfix">
       <a class="username-link" ui-sref="user({username: currentItinerary.User.username})">{{currentItinerary.User.fname}}</a> is interested in:
       </div>
        <div class="interest-name" ng-repeat="activity in currentItinerary.Activities">
          <span >{{activity.name}}</span>
        </div>

    </div>
  </div>
</div>



<div class="container-fluid">

<div class="row">
  <div class="col-sm-4 comments-column">
     <!-- End Panel-->

    <div class="">
      <div class="comment-box" ng-repeat="comment in currentItinerary.comments | orderBy:'-createdAt'"><!-- ng-repeat="comment in comments" -->
        <div class="row">
          <div class="col-sm-12">
            <div class="comment-heading">
              <span class="" ng-click="" >{{comment.User.fname}}</span><a ui-sref="user({username: comment.User.username})" class="itin-handle"> @{{comment.User.username}}</a> commented: <span class="date pull-right">{{comment.createdAt | date: "mediumDate"}}</span>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="comment-text">
              {{comment.text}}
            </div>
            <div class="comment-footer clearfix">
              <div class="itin-button-container pull-right">
                <span class="street-address">{{comment.address}}</span>
                <a class="website" ng-show="comment.link">Visit Site</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-8 map-col">
    <div id="map">
      <ui-gmap-google-map center="map.center" zoom="map.zoom" options="map.options">
        <ui-gmap-markers models="map.markers" coords="'coords'" idKey="id" click="onClick" doCluster="true" options="'options'">
          <ui-gmap-windows show="show">
            <div ng-non-bindable>
              {{title}}
              <br /> Located at: {{address}}
            </div>
          </ui-gmap-windows>
        </ui-gmap-marker>
      </ui-gmap-google-map>
    </div>
  </div>
</div>

</div>
