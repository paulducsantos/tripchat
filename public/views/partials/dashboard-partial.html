<div class="container-fluid header-background"  ng-init="init()">
  <h3 class="dash-header text-center">{{user.username}} | Dashboard</h3>
</div>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <div class="panel add-panel">
        <div class="panel-heading add-itinerary-panel-head">
         <h3 class="dash-main-header">Going somewhere? Share a new itinerary!</h3>
        </div>
        <div class="panel-body">
          <p>Share your interests with fellow TripChatters and see where their suggestions take you!</p>
          <form class="row" name="itineraryForm">
              <div class="form-group col-sm-12">
                <input ng-model="itinerary.title" name="title" type="text" class="form-control validate" placeholder="Intinerary Name">
              </div>
              <div class="form-group col-sm-4">
                <input ng-model="itinerary.city" name="city" type="text" class="form-control validate" placeholder="City">
              </div>
              <div class="form-group col-sm-4">
                <input ng-model="itinerary.state" name="state" type="text" class="form-control validate" placeholder="State">
              </div>
               <div class="form-group col-sm-4">
                <input ng-model="itinerary.country" name"country" type="text" class="form-control validate" placeholder="Country">
              </div>
               <div class="form-group share-itinerary col-sm-4 col-sm-offset-8">
                <button class="btn btn-success pull-right" ng-click="addItinerary()" ng-submit="addItinerary()">Share Itinerary</button>
              </div>
          </form>
        </div>

      </div>


      <div class="panel add-panel itin-panel" ng-repeat="itinerary in userItineraries | orderBy:'-createdAt'">

        <div class="panel-heading itin-heading clearfix">
          <div class="dash-heading-container clearfix" >
            <div class="col-sm-6">
            <h3 class="dash-itinerary-heading clearfix">{{itinerary.title}}</h3>
            </div>
            <div class="col-sm-6">
              <h3 class="dash-itinerary-heading pull-right"> {{itinerary.city}}, {{itinerary.state}} {{itinerary.country}}</h3>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <div class="editable-inputs" ng-show="editOptions">
            <div class="row">
              <div class="col-sm-12">
                <input type="text" ng-model="itinerary.title"  class="form-control editable-input-fields">
              </div>
              <div class="col-sm-4">
                <input type="text" ng-model="itinerary.city"  class="form-control editable-input-fields">
              </div>

              <div class="col-sm-4">
                <input type="text" ng-model="itinerary.state"  class="form-control editable-input-fields">
              </div>

              <div class="col-sm-4">
                <input type="text" ng-model="itinerary.country"  class="form-control editable-input-fields">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <div small-map city="itinerary.city" class="dash-map"></div>
            </div>
            <div class="col-sm-8">
              <div class="row">
                <form>
                  <div class="form-group">
                    <p ng-hide="editOptions">What are you interested in?</p>
                    <div class="form-inline input-group add-interest-form" ng-hide="editOptions">
                      <input placeholder="Museums"  ng-model="itinerary.newActivity.name" type="text" class="validate form-control">
                      <div class="input-group-btn">
                        <button class="btn btn-success" ng-submit="addActivity(itinerary.id, itinerary.newActivity)" ng-click="addActivity(itinerary.id, itinerary.newActivity)">Add</button>
                      </div>
                    </div>
                  </div>
                </form>

               <div ng-repeat="activity in itinerary.Activities">
                  <div class="col-md-4"ng-hide="deleted">
                    <div class="interest text-center">
                      <span class="">{{activity.name}}</span>
                    </div>
                    <button class="interest-delete" ng-show="editOptions" ng-click="deleteActivity(activity.id); deleted=true"  class="delete-activity">&times;</button>
                  </div><!-- end col s4 -->
                </div>
              </div><!-- end row -->
            </div><!-- end col s9 -->
          </div><!-- end row -->

        </div>


        <div class="itinerary-footer clearfix">
          <div class="button-container pull-right">
            <a  ui-sref="showItinerary({id: itinerary.id})" class="btn">View</a>
            <a ng-click="editItinerary(itinerary); editOptions=false" ng-show="editOptions" class="btn">Done</a>
            <a ng-click="showEditableItinerary(itinerary.id); editOptions=true" ng-hide="editOptions" class="btn">Edit</a>
            <a ng-click="deleteItinerary(itinerary.id)" class="btn">Delete</a>
          </div>
        </div>
      </div><!-- End Itineray-panel -->






    </div><!-- END col-sm-8 -->

    <div class="col-sm-4">
      <div class="panel">
        <div class="panel-heading">
          <h3 class="latest-itineraries-header">Latest Itineraries</h3>
        </div>
        <div class="panel-body-latest-itin ">

          <div class="dash-latest-itineraries clearfix" ng-repeat="itinerary in allItineraries | orderBy:'-createdAt' | limitTo: 5">
            <div class="dash-latest-itin-heading">
            <span class="" ng-click="" ><h4 class="inline">{{itinerary.User.fname}}</h4></span><a ui-sref="user({username: itinerary.User.username})" class="handle"> <small>@{{itinerary.User.username}}</small></a> <span class="date pull-right">{{itinerary.createdAt | date: "mediumDate"}}</span>
            </div>
            <div class="latest-itinerary-body clearfix">
              <a class="latest-itinerary-link clearfix" ui-sref="showItinerary({id: itinerary.id})">{{itinerary.title}}</a>
              <div class="latest-itinerary-location pull-right">{{itinerary.city}}, {{itinerary.state}}, {{itinerary.country}}</div>
            </div>
            <div class="dash-latest-itin-share-group pull-right">
              <a ui-sref="showItinerary({id: itinerary.id})" type="button" class="btn">View</a>
            </div>

         <!--    <div class="form-group itinerary-comment" ng-show="showCommentBox">
              <textarea class="form-control" rows="3" id="comment" placeholder="Been there, done that?  Share your experience! Tell  {{itinerary.User.fname}} where to go on in {{itinerary.city}}."></textarea>
              <input ng-model="itinerary.Comment.address" class="form-control latest-address-input" type="text"  placeholder="Street Address"/>
              <input ng-model="itinerary.Comment.link" class="form-control col-sm-6 latest-address-input"  type="text"  placeholder="Website"/>
              <div class="comment-button-group pull-right">
                <a ng-click="addComment(itinerary.id, itinerary.city); showCommentBox=false" type="button" class="btn">Comment</a>
                <a ng-click="showCommentBox=false" type="button" class="btn">Cancel</a>
              </div>
            </div> -->
          </div>
        </div>
        <div class="panel-footer clearfix">
          <a class="panel-footer-link pull-right" href="/itineraries">View All Itineraries</a>
        </div>
       </div>
    </div>

  </div><!-- end row-->
</div><!-- end container -->
